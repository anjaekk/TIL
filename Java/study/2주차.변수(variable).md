# 2. 변수(variable)

### 명명 규칙

기본적으로 자바는 Camel case를 따른다.

1. class
    - 대문자 시작, 명사
    - Thread
2. interface
    - 대문자시작 , 형용사
    - Runnable, Remote
3. method
    - 소문자 시작, 동사
    - actionperfomed(), main(), print()
4. variable
    - 소문자 시작
    - firstName, orderNumber
5. package
    - 소문자 시작
    - java, lang, sql
6. constant
    - 대문자, ‘_’를 사용하여 구분
    - PI, MAX_NUMBER

### 변수 구분

1. 기본형(primitive type)
    - 실제 값(data)를 저장
    - 실제 연산에 사용되는 것은 모두 기본형 변수
    - 논리형(boolean), 문자형(char), 정수형(byte, short, int, long), 실수형(float, double) ⇒ 8가지
    
    |  | 1 byte | 2 byte | 4 byte | 8 byte |
    | --- | --- | --- | --- | --- |
    | 논리형 | boolean |  |  |  |
    | 문자형 |  | char |  |  |
    | 정수형 | byte | short | int | long |
    | 실수형 |  |  | float | double |
    - int: CPU에서 가장 효율적으로 처리(실행보다 메모리 절약을 위해서는 byte나 short 사용 권장)
        - 💡 왜 int가 가장 효율적일까
            
            CPU에서는 한번에 처리할 수 있는 단위를 word라고 하는데 32bit = 4byte가 된다. 그래서 4byte인 int형이 고속처리가 가능한 것이다. 그래서 byte와 short는 int로 변환하는 과정을 거치게 되는데 그럼에도 불구하고 byte와 short가 필요한 이유는 연산의 속도보다 메모리 사용의 효율성이 우선시 될 때는 byte와 short를 사용하게 된다. 
            
    - double: float보다 두배의 크기를 가져서 double
    - float 정밀도 = 7자리, 그 이상이 필요할 경우 double
    
2. 참조형(reference type)
    - null 값을 사용하기 위해서는 참조형을 사용해야한다.
    - 참조형 변수는 연산이 되지 않는다.
    - 객체의 메모리 주소를 stack에 저장, 실제 데이터는 heap에 저장
    - 기본형을 제외한 나머지(배열, 클래스형 등)
    - 클래스 형의 변수의 타입이 클래스의 이름을 사용하므로 클래스의 이름이 참조 변수의 타입이 된다.

### 상수와 리터럴

1. 상수
    - 선언: 앞에 final 붙여줌
        
        ```java
        final int MAX_SPEED = 10;
        ```
        
    - 선언과 동시에 초기화 해야함(JDK 1.6부터는 선언과 동시에 하지 않아도 되지만 동시에 하도록 권장)
    
2. 리터럴
    - 그 자체로 값을 의미
    - 리터럴에 의미있는 이름을 붙인게 상수 혹은 변수

1. 리터럴의 타입과 접미사
    - long 타입 접미사: ㅣ또는 L
    - float 타입 접미사: f 또는 F
    - double 타입 접미사: d 또는 D(실수형의 기본값은 double이여서 생략 가능)
    - 접미사가 없으면 int 타입(byte와 short의 리터럴은 존재하지 않으므로 해당값을 저장하더라도 int사용)
        
        ```java
        long big = 100_000_000_000L;
        ```
        
    - long과 float만 접미사를 붙여야 하므로 그 두개만 신경쓰면 됨
    - 변수의 타입과 리터럴의 타입이 다르더라도 변수의 타입 ≥ 리터럴 타입이라면 사용가능
        
        ```java
        int i = 'A'; // A유니코드 65가 i에 저장
        ```
        

1. 문자 리터럴과 문자열 리터럴
    - 문자 리터럴 = ‘J’; → char
        - 문자 리터럴에는 반드시 하나의 문자가 들어가야함(공백 가능, ‘’(empty string) 불가)
    - 문자열 리터럴 = “Java”; → string
        - “”가능

### 변수의 스코프와 라이프타임

1. static
    - gc에 영향을 받지 않음
    - static method에서는 static변수가 아니라면 사용 불가
    

### 캐스팅 그리고 타입 프로모션

하나의 타입을 다른 타입으로 변경하는 작업을 타입 변환이라고 한다. 자바에서는 기본형에서 논리형을 제외하고 강제 형변환과 자동 형변환이 있는데 이를 캐스팅과 타입 프로모션이라고 한다. 

자료형의 크기를 정리하면 아래와 같이 되는데 이 순서를 기준으로 프로모션과 캐스팅이 이루어진다.

```java
byte < short < int < long < float < double < String
```

1. 캐스팅(큰걸 → 작게)
    - 명시적 형변환(강제)
    - 큰 데이터 타입을 작은 데이터 타입으로 쪼개서 형 변환이 되는 것
    - 데이터 손실이나 변형이 생길 수 있다.
    - 참조형 변수는 캐스팅이 이루어 질 수 없다.
2. 타입 프로모션(작은걸 → 크게)
    - 묵시적 형변환(자동)
    - 작은 데이터 타입이 큰 데이터 타입으로 형 변환이 되는 것
    - 타입 프로모션 이후에도 값이 동일하게 된다.

- 💡 long타입을 타입 프로모션으로 float가 가능하다고 하는데 이유
    
    long은 8byte, float는 4byte인데 float가 더 크다고 되어있는 이유는 표현 범위를 확인해보면 실수형 변수가 정수형 변수보다 표현범위는 더 큰것을 알 수 있다. 실수형은 정수형과 저장형식이 다르게 되는데 같은 값이여도 실수형이 더 많은 데이터를 저장할 수 있게된다. 
    

### 배열 선언하기

1. 길이가 5개인 int 표준배열 선언
    
    ```java
    int[] numbers = new int[5];
    ```
    
2. java ArrayList
    - java.utils 패키지
    - 표준 배열보다 느리지만 배열에서 많은 조작이 필요한 경우 사용된다.
    
    ```java
    ArrayList list = new ArrayList(); // 타입 설정을 하지 않고 Object로 사용
    ```
    

### 타입 추론, var

자바 버전 10부터 타입 추론을 지원하는 var 타입이 추가되었다. var는 기존에 명시적인 타입을 선언했지만 var는 초기화 리터럴 값을 이용해 타입을 추론한다. 

타입추론은 다음과 같은 특징이 있다.

1. 초기화값이 있는 지역변수로만 선언이 가능하다. 
2. 한번 값이 지정되면 런타임 중간에 변경될 수 없다.
3. null로 선언 불가
4. var는 예약어가 아니기 때문에 변수이름으로도 사용이 가능하다.(권장 안함)
5. lambda에서도 사용가능!