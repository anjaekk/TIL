## í† í°(Token)
`http`ì˜ ëŒ€í‘œì ì¸ íŠ¹ì§•ì¸ `stateless`ë¡œ ì¸í•´ ì—°ê²°ì´ í•´ì œë¨ê³¼ ë™ì‹œì— ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì´ì „ì— ìš”ì²­í•œ ê²°ê³¼ì— ëŒ€í•´ì„œ ìŠì–´ë²„ë¦¬ê²Œ ëœë‹¤. ì¦‰ ê°ê°ì˜ í†µì‹ ê¸°ë¡ì´ ì €ì¥ë˜ì–´ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— ë¡œê·¸ì¸ì„ ì´ì „ì— í–ˆë”ë¼ë„ ì‚¬ìš©ìê°€ ì„œë²„ì— ìš”ì²­ì„ í• ë•Œë§ˆë‹¤ `ì¸ì¦`ì„ í•´ì•¼í•˜ëŠ”ë° ê·¸ ì¸ì¦ì„ í•˜ê¸°ìœ„í•´ ì‚¬ìš©ë˜ ê²ƒì´ `í† í°(Token)`ì´ë‹¤.ì´ëŸ¬í•œ í† í°ì€ ë©”íƒ€ë°ì´í„°ë¡œì¨ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°€ `request`ì™€ `response`ë¥¼ ì£¼ê³  ë°›ì„ ë•Œ `header`ì— ë‹´ì•„ì„œ ì£¼ê³  ë°›ê²Œ ëœë‹¤.
ë§Œì•½ ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ì— ì„±ê³µí•˜ë©´Â `access token`ì„ ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡í•˜ê²Œë˜ê³  ë¡œê·¸ì¸ ì„±ê³µí›„ ë‹¤ìŒë¶€í„°ëŠ”Â í´ë¼ì´ì–¸íŠ¸ê°€ `access token`ì„ ì²¨ë¶€í•´ì„œ `request`ë¥¼ ì„œë²„ì— ì „ì†¡í•¨ìœ¼ë¡œì„œ ë§¤ë²ˆ ë¡œê·¸ì¸ í•´ë„ ë˜ì§€ ì•Šë„ë¡ í•œë‹¤.
ì—¬ê¸°ì„œ `access token`ì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì€ ì—¬ëŸ¬ê°€ì§€ê°€ ìˆëŠ”ë° ê·¸ ì¤‘ ê°€ì¥ ë„ë¦¬ ì‚¬ìš© ë˜ëŠ” ê¸°ìˆ  ì¤‘ í•˜ë‚˜ê°€ ë°”ë¡œ `JWT(JSON Web Tokens)`ì´ë‹¤.

## JWT(JSON Web Tokens)
JWTëŠ” ë§ ê·¸ëŒ€ë¡œ ìœ ì € ì •ë³´ë¥¼ ë‹´ìŒ JSON ë°ì´í„°ë¥¼ ì•”í˜¸í™” í•´ì„œ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°„ì— ì£¼ê³  ë°›ëŠ” ê²ƒì„ ë§í•œë‹¤. 
### JWT êµ¬ì¡°
JWTëŠ” í—¤ë”(Header), ë‚´ìš©(Payload), ì„œëª…(Signiture) ì´ë ‡ê²Œ 3ê°€ì§€ì˜ êµ¬ì¡°ë¡œ ë˜ì–´ìˆë‹¤. 
#### í—¤ë”(Header)
í—¤ë”ì—ëŠ” í† í°ì˜ íƒ€ì…(typ)ê³¼ í•´ì‹± ì•Œê³ ë¦¬ì¦˜(alg)ì˜ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆë‹¤. í—¤ë”ì˜ ë‚´ìš©ì€ BASE64ë°©ì‹ìœ¼ë¡œ ì¸ì½”ë”©(encoding)í•´ì„œ JWTì˜ ê°€ì¥ ì²« ë¶€ë¶„ì— ê¸°ë¡ëœë‹¤. ì•„ë˜ ì˜ˆì‹œì™€ ê°™ì´ ì•Œê³ ë¦¬ì¦˜ ë°©ì‹ì€ HS256ì´ë©° íƒ€ì…ì€ JWTë¼ëŠ” í† í°ì˜ ì •ë³´ê°€ ë“¤ì–´ê°€ê²Œ ëœë‹¤.

- **ì˜ˆì‹œ**
```
{"alg":"HS256", "typ":"JWT"}
```

#### ë‚´ìš©(Payload)
ë‚´ìš©ì—ëŠ” **í† í°ì— ë‹´ì„ ì •ë³´**ê°€ ë“¤ì–´ìˆë‹¤. ì´ ë‹´ì„ ì •ë³´ì˜ í•œ ë¶€ë¶„ì„ í´ë ˆì„(claim)ì´ë¼ê³  ë¶€ë¥´ëŠ”ë° {"key":"value"}ê³¼ ê°™ì´ ì´ë£¨ì–´ì ¸ ìˆë‹¤. í´ë ˆì„ì€ ê³µê°œ í´ë ˆì„(public claim)ê³¼ ë¹„ê³µê°œ í´ë ˆì„(private claim)ìœ¼ë¡œ êµ¬ë¶„ëœë‹¤. ê³µê°œ í´ë ˆì„ì€ í† í°ì˜ ë§Œë£Œì‹œê°„ì„ ë‚˜íƒ€ë‚´ëŠ” `exp`, í† í°ì´ ë°œê¸‰ëœ ì‹œê°„ì„ ë‚˜íƒ€ë‚´ëŠ” `iat`ë“±ì´ ìˆê³  ë¹„ê³µê°œ í´ë˜ì„ì€ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°„ í˜‘ì˜ í•˜ì— ì‚¬ìš©ë˜ëŠ” í´ë ˆì„ì´ë‹¤. ì´ ê³µê°œì™€ ë¹„ê³µê°œ í´ë ˆì„ì„ ì¡°í•©í•˜ì—¬ ì‘ì„±í•œ ë’¤ BASE64ë°©ì‹ìœ¼ë¡œ ì¸ì½”ë”©(encoding)í•˜ì—¬ ê¸°ë¡ëœë‹¤.

- **ì˜ˆì‹œ**
```
{"user-id":1, "exp":"1539517391"}
```

#### ì„œëª…(Signiture)
ì„œëª…ì€ ë§ˆì¹˜ ê³„ì•½ì„œì˜ ìœ„ë³€ì¡°ë¥¼ ë§‰ê¸°ìœ„í•´ ê³„ì•½ì„œì— ì‹¸ì¸ì„ í•˜ëŠ” ê²ƒì²˜ëŸ¼ JWTê°€ ì›ë³¸ ê·¸ëŒ€ë¡œë¼ëŠ” ê²ƒì„ í™•ì¸í•  ë•Œ ì‚¬ìš©í•œë‹¤. ì•ì„œ ì‚´í´ë³´ì•˜ë˜ í—¤ë”ì™€ ë‚´ìš©ì˜ ê°’ì€ ê°„ë‹¨í•˜ê²Œ ì¸ì½”ë”©í•˜ì—¬ ê°’ì„ ë„£ëŠ” ê²ƒì´ì—ˆë‹¤. í•˜ì§€ë§Œ ì„œëª…ì—ëŠ” í—¤ë”ì™€ ë‚´ìš©ì˜ ê°’ ë¿ë§Œ ì•„ë‹ˆë¼ ë³„ë„ ìƒì„±í•œ ë¹„ë°€í‚¤(Secret key)ë¥¼ í—¤ë”ì— ì§€ì •ëœ ì•”í˜¸ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì•”í˜¸í™”í•˜ì—¬ ì „ì†¡í•˜ê²Œ ëœë‹¤. ë¬¼ë¡  ì´ ê°’ì€ ë³µí˜¸í™”ê°€ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ JWTë¥¼ API ì„œë²„ë¡œ ì „ì†¡í•˜ë©´ ì„œë²„ëŠ” ì „ì†¡ë°›ì€ JWTì˜ ì„œëª… ë¶€ë¶„ì„ ë³µí˜¸í™”í•˜ì—¬ ì„œë²„ì—ì„œ ìƒì„±í•œ JWTê°€ ë§ëŠ”ì§€ í™•ì¸í•˜ê²Œ ëœë‹¤.
ì¦‰, ì´ í† í°ì´ ìš°ë¦¬ ì‚¬ì´íŠ¸ì—ì„œ ë°œí–‰í•œ í† í°ì´ ë§ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆëŠ” í‚¤ê°€ ë¹„ë°€í‚¤(Secret key)ê°€ ë˜ëŠ” ê²ƒì´ë‹¤.

## JWT ì‚¬ìš© ì˜ˆì‹œ
- **pyjwt ì„¤ì¹˜**
```
pip install pyjwt
```

- **JWTìƒì„±**
```
>>> import jwt
>>> encoded_jwt = jwt.encode({"user-id": 5}, "secret", algorithm="HS256")
>>> encoded_jwt
'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyLWlkIjo1fQ.tBQu0HfnOYK7lL3tH5ImgsI-y4Jz1RKscJWbV3U2QMI'
```
_\* íŒ¨í‚¤ì§€ëª…ì€ pyjwtì´ì§€ë§Œ ì„í¬íŠ¸í• ë•Œì˜ ì´ë¦„ì€ jwt_

JWTì˜ ì²«ë²ˆì§¸ ì¸ìëŠ” JWTì— ë“¤ì–´ê°ˆ ë‚´ìš©(payload)ë“¤ì„ ì ì–´ì£¼ê³  ë‘ë²ˆì§¸ ì¸ìë¡œëŠ” ì‹œí¬ë¦¿ í‚¤ë¥¼ ì ì–´ì£¼ëŠ”ë° ì‹œí¬ë¦¿ í‚¤ëŠ” ë…¸ì¶œë˜ì§€ ì•Šë„ë¡ í•´ì•¼í•œë‹¤. ë˜í•œ ë³µí˜¸í™”ê°€ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ë‚´ìš©(payload)ì— ì‚¬ìš©ìì˜ ì•„ì´ë””ë‚˜ íŒ¨ìŠ¤ì›Œë“œì™€ ê°™ì´ ì‚¬ìš©ì ì •ë³´ê°€ ë‹´ê¸°ì§€ ì•Šë„ë¡ ì¡°ì‹¬í•´ì•¼í•˜ê³  ì˜ˆì œì—ì„œ ì‚¬ìš©í•œ idì˜ ê²½ìš° DBì˜ ì ‘ê·¼ ê¶Œí•œì´ ì—†ìœ¼ë©´ ì•Œê²Œë˜ë”ë¼ë„ ì˜ë¯¸ì—†ëŠ” ì •ë³´ì´ê¸° ë•Œë¬¸ì— ë…¸ì¶œì´ ê°€ëŠ¥í•˜ë‹¤. 
 
- **JWT ë³µí˜¸í™”**
```
>>> jwt.decode(encoded_jwt, "secret", algorithm="HS256")
{'user-id': 5}
```


> ì°¸ì¡°
>
>ğŸ”— [PyJWT | Welcome to PyJWT](https://pyjwt.readthedocs.io/en/latest/)
>
>ğŸ”— [DevTaek ì˜ ê°œë°œë…¸íŠ¸ | HTTP ëŠ” Stateless í•œë° ë¡œê·¸ì¸ì€ ì–´ë–»ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆì„ê¹Œ?](https://hyuntaeknote.tistory.com/3)
>
>ğŸ”— [VELOPERT.LOG | JSON Web Token ì†Œê°œ ë° êµ¬ì¡°](https://velopert.com/2389)
