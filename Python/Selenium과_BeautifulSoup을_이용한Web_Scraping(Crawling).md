## ë“¤ì–´ê°€ê¸° ì „ì—... 
### ì›¹ í¬ë¡¤ë§ê³¼ ìŠ¤í¬ë˜í•‘
ì›¹ ìŠ¤í¬ë˜í•‘ì— ëŒ€í•´ ì•Œì•„ë³´ê¸°ì „ í—·ê°ˆë¦¬ê¸° ì‰¬ìš´ í¬ë¡¤ë§ê³¼ ìŠ¤í¬ë˜í•‘ì˜ ì°¨ì´ì ì— ëŒ€í•´ ì•Œì•„ë³´ê³  ê°€ì.      
ì´ ë‘˜ì€ ì›¹ì„ íƒìƒ‰í•œë‹¤ëŠ” ê³µí†µì ì´ ìˆì§€ë§Œ ê°€ì¥ í° ì°¨ì´ì ì€ ëª©ì ì´ ìˆëŠëƒ ì—†ëŠëƒ, ë°ì´í„°ë¥¼ ì¶”ì¶œí•´ì„œ ì €ì¥í•˜ëŠëƒ ì•„ë‹ˆëƒì´ë‹¤. í¬ë¡¤ëŸ¬ëŠ” spiderë¼ê³ ë„ ë¶ˆë¦¬ëŠ”ë° ëª©ì ì´ë‚˜ íŠ¹ë³„í•œ ëª©í‘œ ì—†ì´ ì‚¬ì´íŠ¸ë‚˜ ë„¤íŠ¸ì›Œí¬ê°€ ì œê³µí•˜ëŠ” ê²ƒì„ ê³„ì†í•´ì„œ íƒìƒ‰í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤. 
ê·¸ì— ë°˜í•´ ìŠ¤í¬ë˜í•‘ì€ íŠ¹ì • ëª©ì ì„ ê°€ì§€ê³  ê·¸ì— ë§ëŠ” íŠ¹ì • ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ê³  ì¶”ì¶œí•˜ì—¬ ì €ì¥í•˜ëŠ” ì‘ì—…ì„ ë§í•œë‹¤.     
ì´ ë‘˜ì€ ì™„ì „íˆ êµ¬ë¶„ë˜ëŠ” ê°œë…ì´ ì•„ë‹ˆë¼ ìŠ¤í¬ë˜í•‘ì„ ìœ„í•´ì„œëŠ” í´ë¡¤ë§ì´ í•„ìš”í•˜ê³  í´ë¡¤ë§ì„ í•˜ë©´ ìŠ¤í¬ë˜í•‘ì„ í•´ì•¼í•˜ëŠ” ì¹­êµ¬ì¹­êµ¬ ì‚¬ì´ì´ë‹¤. ê·¸ë¦¬ê³  ê·¸ ë‘˜ì„ ê·¸ë ‡ê²Œ í¬ê²Œ êµ¬ë¶„í•˜ì—¬ ì‚¬ìš©í•˜ì§€ë„ ì•ŠëŠ”ë‹¤!
# í¸í•œ ì‘ì—…ì„ ìœ„í•´
## Jupyterlab
```
pip install jupyterlab
```
- `enter + shift` : ì½”ë“œ ì‹¤í–‰
## ê°œë°œìë„êµ¬
#### mac
```
command + option + i
```

#### windows
```
F12
```
# 1. ì›í•˜ëŠ” ë°ì´í„° ëª©ë¡ê¹Œì§€ ì ‘ê·¼í•˜ê¸°
ì›í•˜ëŠ” ë°ì´í„° ëª©ë¡ê¹Œì§€ ì ‘ê·¼ì„ ìœ„í•´ Seleniumì„ ì´ìš©í•˜ë„ë¡ í•œë‹¤.
## Selenium
- Selenium WebDriverëŠ” ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ í…ŒìŠ¤íŒ…í•  ë•Œ ì‚¬ìš©í•˜ì‹¤ ìˆ˜ ìˆëŠ” ë¬´ë£Œ ë„êµ¬ì´ë©°, APIë¥¼ ì œê³µí•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ í”„ë ˆì„ì›Œí¬
- beautiful soupì—ì„œ ë‹¤ë£° ìˆ˜ ì—†ëŠ” ë™ì ì¸ ë¶€ë¶„ì€ seleniumì„ ì´ìš©í•œë‹¤.
### 1.1 Selenium ì„¤ì¹˜
```
pip install selenium
```

### 1.2 web driver ì„¤ì¹˜
í¬ë¡¬ì„ ì‚¬ìš©í•œ ìŠ¤í¬ë˜í•‘ì„ ì§„í–‰í•  ì˜ˆì •ì´ê¸° ë•Œë¬¸ì— chrome web driverë¥¼ ë‹¤ìš´ë°›ì•„ ì‚¬ìš©í•˜ë„ë¡ í•œë‹¤.
[web driver ë‹¤ìš´ë¡œë“œ](https://chromedriver.chromium.org/downloads)

ë‹¤ìš´ë¡œë“œ ë°›ì€ web driver ìœ„ì¹˜ë¥¼ ë³€ê²½í•´ì¤€ë‹¤.
```
sudo mv chromedriver /usr/local/bin
```

ì˜ ì„¤ì¹˜ê°€ ëëŠ”ì§€ í™•ì¸í•´ë³¸ë‹¤.
```
import selenium
from selenium import webdriver

driver = webdriver.Chrome()
```
ìœ„ì˜ ì½”ë“œë¥¼ Jupyterlabì„ í†µí•´ ì‹¤í–‰ì‹œì¼°ì„ ë•Œ ë¹„ì–´ìˆëŠ” chrome ë¸Œë¼ìš°ì ¸ê°€ ì—´ë¦°ë‹¤ë©´ ì„±ê³µ!
> web driverì˜ ìœ„ì¹˜ë¥¼ ì˜®ê¸°ê¸° ì‹«ë‹¤ë©´
```
driver = webdriver.Chrome("Web Driverì˜ ê²½ë¡œ")
```
> ìœ„ì™€ ê°™ì´ ì½”íŠ¸ë¥¼ ë„£ì–´ì£¼ë©´ ëœë‹¤. 

### 1.3 ë¡œê·¸ì¸
ë§Œì•½ ì›í•˜ëŠ” ë°ì´í„°ê°€ ë¡œê·¸ì¸ì„ í•´ì•¼ë§Œ ì–»ì„ ìˆ˜ ìˆë‹¤ë©´ seleniumì„ ì´ìš©í•´ ë¡œê·¸ì¸ì„ í•´ì£¼ë„ë¡ í•œë‹¤.
```
from selenium import webdriver
from selenium.webdriver.common.keys import Keys


user = "id ë„£ê¸°"
password = "pw ë„£ê¸°"

driver = webdriver.Chrome()
driver.get("ì‚¬ì´íŠ¸ ë¡œê·¸ì¸í˜ì´ì§€ url")
assert "ê·¸ ì‚¬ì´íŠ¸ title" in driver.title

elem = driver.find_element_by_id("id")
elem.send_keys(user)
elem = driver.find_element_by_id("pw")
elem.send_keys(password)
elem.send_keys(Keys.RETURN)
```

- assert: í•´ë‹¹ ì‚¬ì´íŠ¸ html titleì´ ì§€ì •í•´ë†“ì€ titleê³¼ ë§ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ë¥¼ ë‚´ë³´ë‚´ë„ë¡ í•˜ëŠ” ì˜ˆì™¸ì²˜ë¦¬
- `elem = driver.find_element_by_id("id")`: ê°œë°œìë„êµ¬ë¥¼ ì´ìš©í•˜ì—¬ í™•ì¸í•œ í•´ë‹¹ ìë¦¬ì˜ idê°’ì„ ì…ë ¥
- `elem.send_keys(user)`: id ì…ë ¥
`elem.send_keys(Keys.RETURN): enter` í‚¤ ëˆ„ë¥´ê¸°



### 1.4 í•´ë‹¹ ë©”ë‰´ ë“¤ì–´ê°€ê¸°
ê°œë°œì ë„êµ¬ë¥¼ í†µí•´ ë‚´ê°€ ì›í•˜ëŠ” ë¶€ë¶„ì˜ ê°’ì´ `<a href="~~url">ë©”ë‰´ì´ë¦„</a>`ì™€ ê°™ì´ ë‹¨ìˆœ hrefë¡œ ë˜ì–´ìˆëŠ”ì§€ ì•„ë‹ˆë©´ `<a href="#" onclick="~~">` ì´ëŸ°ì”©ìœ¼ë¡œ on clickì¸ì§€ í™•ì¸í•˜ì—¬ ì ‘ê·¼í•œë‹¤.

#### ë§í¬í˜•
```
a = driver.find_elements_by_xpath("XPath ë„£ê¸°")
driver.get(a[0].get_attribute("href"))
```
ë§í¬í˜•ì€ ê°œë°œìë„êµ¬ì—ì„œ í•´ë‹¹ ë¶€ë¶„ ì§€ì • í›„ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ í´ë¦­ -> Copy -> Copy XPath ë¥¼ í†µí•´ ë³µì‚¬í•œ XPathë¥¼ ì‚¬ìš©í•œë‹¤.

#### on clickí˜•
```
a = driver.find_element_by_css_selector("selector ê°’ ë„£ê¸°")
a.send_keys("\n")
```
- a.send_keys("\n"): enter ëˆ„ë¥´ê¸°

on clickí˜•ì€ ê°œë°œìë„êµ¬ì—ì„œ í•´ë‹¹ ë¶€ë¶„ ì§€ì • í›„ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ í´ë¦­ -> Copy -> Copy selectorë¥¼ í†µí•´ ë³µì‚¬í•œ selector ê°’ì„ ì‚¬ìš©í•œë‹¤. 


>_ì´ ê³¼ì •ì—ì„œ path ì˜¤ë¥˜ê°€ ë‚œë‹¤ë©´ ë¥¼ ì½”ë“œë¥¼ í†µí•´ ì§€ì—°ì‹œê°„ì„ ì‚¬ì´ì— ë„£ì–´ì£¼ë„ë¡ í•œë‹¤._
```
import time
time.sleep(2)
```

### 1.5 ë“œë¡­ë‹¤ìš´ ëª©ë¡ ì„ íƒ
ë“œë¡­ë‹¤ìš´ì„ í†µí•´ íŠ¹ì • ëª©ë¡ì„ ì„ íƒí•´ì•¼í•˜ëŠ” ê²½ìš°ì—ëŠ” ì•„ë˜ì˜ ì„¸ê°€ì§€ ë°©ë²•ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•´ì„œ í•  ìˆ˜ ìˆë‹¤.(3ë²ˆì§¸ ì¤„ ì½”ë“œê°€ ë‹¤ë¦„!)

#### - ì¸ë±ìŠ¤ ìˆœì„œì— ë”°ë¼ ì„ íƒí•˜ê¸°

```
from selenium.webdriver.support.select import Select
select_menu=Select(driver.find_element_by_id("í•´ë‹¹ ë“œë¡­ë‹¤ìš´ id"))
select.select_by_index(1)
```

#### - ë©”ë‰´ì˜ í…ìŠ¤íŠ¸ ê°’ìœ¼ë¡œ ì„ íƒí•˜ê¸°

```
from selenium.webdriver.support.select import Select
select_menu=Select(driver.find_element_by_id("í•´ë‹¹ ë“œë¡­ë‹¤ìš´ id"))
select.select_by_visible_text("ë©”ë‰´ëª…")
```

#### - valueê°’ìœ¼ë¡œ ì„ íƒí•˜ê¸°

```
from selenium.webdriver.support.select import Select
select_menu=Select(driver.find_element_by_id("í•´ë‹¹ ë“œë¡­ë‹¤ìš´ id"))
select.select_by_value("value ê°’")
```

# 2. ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
## Beautifulsoup
- HTMLê³¼ XML ë¬¸ì„œì˜ parsingì„ í•˜ê¸° ìœ„í•œ Python ë¼ì´ë¸ŒëŸ¬ë¦¬

### 2.1 beautifulsoup ì„¤ì¹˜
- ìš°ì„  beautifulsoup íŒ¨í‚¤ì§€ë¥¼ ë‹¤ìš´ë°›ì•„ ì¤€ë‹¤.
```
pip install bs4
```

### 2.2 í˜ì´ì§€ ì†ŒìŠ¤ ê°€ì ¸ì˜¤ê¸°
web driverë¥¼ ì´ìš©í•´ í•´ë‹¹ í˜ì´ì§€ ì†ŒìŠ¤ë¥¼ ê°€ì ¸ì˜¨ë‹¤.

```
page_source = driver.page_source 
soup = BeautifulSoup(page_source, "html.parser")
```

- driverëŠ” ìœ„ì—ì„œ `driver = webdriver.Chrome()`ë¡œ ì„¤ì •í•œ web driverì´ë‹¤.
- soup = BeautifulSoup(page_source, "html.parser")


### 2.3 í•´ë‹¹ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
#### selector ì´ìš©

selector Pathë¥¼ ì´ìš©í•´ ê°’ì„ ê°€ì ¸ì˜¨ë‹¤. 
```
contents = soup.select("selector Path ê°’")
```

- ì›í•˜ëŠ” ë°ì´í„° ë¶€ë¶„ì˜ pathê°’ì„ ê°€ì ¸ì˜¨ í›„ forë¬¸ì„ ì´ìš©í•´ ê°’ì„ ì¶”ì¶œí•˜ë„ë¡í•œë‹¤. 



<br>

> ì°¸ì¡°   
> ğŸ”— [ì›¹ í¬ë¡¤ë§ê³¼ ì›¹ ìŠ¤í¬ë˜í•‘ì˜ ì°¨ì´ì  | ì§€êµ¬ë³„ëª¨í—˜ê°€ ë¸”ë¡œê·¸](https://98yejin.github.io/2020-11-02-crawling-vs-scraping/)      
> ğŸ”— [íŒŒì´ì¬ í¬ë¡¤ë§ íŠœí† ë¦¬ì–¼ | ê°œë°œìƒˆë°œ ë¸”ë¡œê·¸](https://l0o02.github.io/2018/06/13/selenium-with-beautifulsoup-1/)         

