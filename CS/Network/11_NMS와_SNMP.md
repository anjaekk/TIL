## 1. NMS/EMS 
회사와 같은 기관의 정한 네트워크의 요구사항을 만족하기 위해서는 네트워크 관리 시스템이 필요하다. 네트워크 관리시스템은 네트워크 장비에 대해 `모니터링`, `시험검사`, `설정`, `문제 진단`과 같은 일을 하게 되는데 이를 말 그대로 `네트워크 관리시스템(NMS, Network Management System)`이라고 한다. 또한 기관에서 네트워크에 관련된 장비들의 제조사가 각기 다를 수 있다. 그 제조사 단위 별로 사용할 수 있는 관리시템을 EMS(Element Management System)라고 한다.

> _**\* 요약 ***
**NMS**: 기관이 정한 요구사항 만족을 위해 네트워크 장비를 관리하는 시스템**(EMS 전체)**
**EMS**: 단위장비 집합을 관리하는 시스템**(각 단위별로)**_

### 1) NMS의 구성요소

![](https://images.velog.io/images/anjaekk/post/9e339c93-99bb-4878-bd36-a56e1e61b446/image.png)
 
#### (1) 구성관리(Configuration management)
- 네트워크 관련 장비들의 구성현황 파악 및 설정관리(네트워크 구성도를 잘 관리하는 것도 구성관리의 기능)
#### (2) 장애관리(Fault management)
- 시스템이 비정상적으로 돌아갈때 즉, 장애상황 발생시 이를 관리
- 통상적으로는 장애가 발생했을 때 이를 즉각 대응하여 장애를 최소화 할 수 있도록 하는 사후관리를가 주력(사전관리보다)

#### (3) 성능관리(Performance management)
- 모니터링과 제어를 통해 네트워크가 효율적으로 운영되도록 관리
- `속도`, `트래픽`, `처리량`, `응답시간` 등의 측정 가능한 기준으로 성능을 나타냄

#### (4) 보안관리(Security management)
- 정해진 정책에 따라 네트워크의 접근을 통제(비인가된 접근으로 부터 보호)
- `방화벽`과 같은 것들 관리

#### (5) 계정관리(Accounting management!)
- 과금을 통해 네트워크 자원에 대한 사용자 접근 통제

## 2. SNMP
SNMP(Simple Network Management Protocol)는 **TCP/IP 프로토콜을 사용하는 인터넷의 장치를 관리하기 위한 `표준 프로토콜`**이다.

### 1) SNMP 특징
#### (1) 관리자와 에이전트 구조
- 관리하는 시스템이 관리를 당하는 피관리시스템에게 정보를 요청해서 가져오는 구조
- **에이전트(피관리시스템)**: `SNMP 서버`가 동작하는 라우터**(관리정보를 가지고 있음)**
\* 라우터와 스위치에서 어떤 포트에서 왔다갔다하는 패킷이 어느정도인지 **정보를 가지고 있기 때문에 `서버`역할**

> _**라우터와 스위치 차이**
**라우터**: 네트워크 사이 데이터 전송
**스위치**: 같은 네트워크 내부에서 데이터 전송_

- **관리자**: `SNMP 클라이언트` 프로그램이 동작하는 호스트**(에이전트가 보유한 정보 요청 가능)**
#### (2) 응용계층에서 동작하는 프로토콜
- 하드의 종류에 상관없이 작동(이메일을 사용이나 웹서비스를 사용하는 것들이 하드와 상관없는 이유는 응용계층에 해당되는 프로토콜이기 때문임)
- 네트워크에서 무슨 프로토콜을 사용하는지에도 상관없음


### 2) SNMP의 구성요소
`SNMP`, `SMI`, `MIB` 3가지의 프로토콜로 구성되어있으며 SNMP는 SNMP라는 프로토콜 하나를 의미하기도 하고 이 세가지를 통틀어 의미하기도 한다. 

#### (1) SNMP
 - 관리자와 에이전트간 전달되는 `메시지`(프로토콜 메시지!)
#### (2) SMI(Structure of Management)
 - 네트워크 관리정보를 주고 받을 때 그 **관리정보에 대한 식별과 부호화 방법등에 대한 규칙** 정의~~_("네가 가진 포트번호 몇번이야?" 하고 말로 주고받을 순 없으니...)_~~
#### (3) MIB(Management Information Base)
 - 관리정보가 묶여있는 전체 덩어리!(집합)
 - 주로 `밉`이라고 부름
 
![](https://images.velog.io/images/anjaekk/post/0e532f25-f3bc-45ab-980a-5706b481f405/image.png)

### 3) SNMP 동작
SNMP의 버전도 여러 버전이 있지만 버전 3의 프로토콜 메시지에 대해 알아보도록 하자. 다음과 같이 총 8개의 메시지 종류를 가지고 있다.

![\* 그림출처](https://images.velog.io/images/anjaekk/post/95fc0e87-0dec-49ed-ba9c-21166829332e/image.png)

[](http://www.ktword.co.kr/abbr_view.php?m_temp1=5270)

#### (1) GetRequest
- 관리자가 에이전트에게 특정정보를 요구할 때 사용
#### (2) GetNextRequest
- 관리자가 에이전트에게 라우팅 데이블과 같이 연속적으로 정보를 받아야 할 경우 사용한다. (이거 다음 이거, 다음, 다음...)
#### (3) GetBulkRequest
- 관리자가 에이전트에게 대량의 데이터를 요구할 때 사용
#### (4) SettRequest
- 관리자가 에이전트에게 특정 관리 정보의 값을 `설정`할 때 사용
#### (5) Response
- `GetRequest`, `GetNextRequest`, `GetBulkRequest`, `SettRequest` 의 요청을 보냈을 때의 응답
#### (6) Trap
- 특정 `이벤트`가 발생하게 되면 이를 관리자에게 보고할 때 사용(예외동작, 장애 등)
#### (7) InformRequest
- 다른 관라자의 통제 하에 있는 에이전트의 관리정보를 요구할 때 사용
#### (8) Report
- 관리자들 간에 에러를 보고하기 위해 사용

### 4) USP Ports
SNMP는 `UDP` `161`번과 `162`번 포트를 사용한다. 
- **161번**: 관리자가 에이전트에게 정보를 요구할 때
- **162번**: 사건보고할 때 사용

\* 참고

쉽게배우는 네트워크 강의(한국직업방송)

[라우터 그리고 스위치](https://server-engineer.tistory.com/582)
