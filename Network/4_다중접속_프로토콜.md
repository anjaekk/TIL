## 네트워크 - 다중접속 프로토콜
### 1. 다중접속
#### 1) 다중접속이란
다중접속에 대해 말하기 전에 멀티 포인트 링크에 대해 먼저 알아보도록 한다. 
> **멀티 포인드 링크는 다음과 같은 특징이 있음**
1. 매체를 여러 대의 시스템이 공유
2. 데이터를 서로 보내는 과정에서 **충돌** 가능성 존재(충돌시 그 데이터를 쓸 수 없게 됨)

여기서 다중 접속은 <u>다수의 시스템들이 매체를 공유하는 환경</u>에서 충돌없이 데이터를 전송하기 위한 방안이다.

또한 다중접속 프로토콜은 데이터가 충돌하지 않게 전송하는 방안으로 네트워크 모델에서 `에러제어`, `흐름제어`, `접근제어`를 하는 `Data  link`계층에서 수행하고 <u>두개의 부계층</u>을 가진다.

두개의 부계층을 가진 Data link layer는 다음과 같다.

![](https://images.velog.io/images/anjaekk/post/ae486d04-f817-4cef-8306-d354d41cc951/image.png)

여기서 상위에 존재하는 `Data link control`은 data link에 중요 기능인 `error제어`와 같은 control을 하고 하단에 있는 `Multiple-access resolution`은 매체에 따라서 어떻게 다중접속을 할지 문제를 해결해 주는 역할을 한다.
> - 상위 부계층: 데이터 링크를 제어
 - 하위 부계층: 공유 매체에 대한 접근 문제를 해결 

#### 2) 다중접속의 종류

![](https://images.velog.io/images/anjaekk/post/7ff1d769-e858-4116-a20e-696e316df3c8/image.png)

(1) 무작위 접근(Random Access)
서로 `대등한 관계`의 통신으로 전송시간을 따로 정해두지 않는다.(보낼 차례를 정하는 규칙이 따로 없기 때문에 `경쟁`이 존재함) 한쪽에서 데이터를 보내게 되면 다른 쪽에서는 기다려야 하기 때문에 `Collision(충돌)`이 생길 수 있다.

  - CSMA/CD(CSMA with Collision Detection): 충돌이 났을 경우 처리방안 명시함으로써 충돌이 감지되면 즉시 전송을 중지한다.
  CSMA/CD의 동작과정은 아래와 같다.
  `Persistence strategy`(누군가 데이터를 보내고 있는지 확인하고 그에 대한 대처법과 데이터를 보낼 타이밍을 결정하는 전략)을 하다가 데이터를 보낼 차례가 되면 데이터를 보내는데 충돌이 안나게 되면 데이터 전송에 성공한 것이고 충돌이 생기게 되면 전송을 즉시 중지하고 `Jam signal`을 그 네트워크에 붙어있는 모든 시스템들에게 알려주게 됨! 그리고 조금 기다리다가 `다시 시도(Backoff)`를 하게 되고 만약 계속 시도했는데 한곳이든 여러곳이든 계속해서 충돌이 생기면 보통 16번 정도 시도하다가 포기를 하게되는데 이점을 `Backoff limit`라고 하고 여기에 도달하게되면 중지하게 된다. 

- CSMA/CA: 무선에 관한 부분으로 CSMA/CD같은 경우 충돌시 에너지가 두배가 되기 때문에 이를 통해 충돌을 감지하지만 무선인 경우 에너지 손실로 인해 이를 감지하기 어렵기 때문에 CSMA/CD방법을 쓸 수 없고 CSMA/CA를 사용하게 된다. 
CSMA/CA의 기법으로는 다음과 같다.
  - IFS(InterFrame Space): 데이터를 바로 보내지 않고 잠시 기다리는 기간으로 데이터를 쭉쭉 보내고 있으면 이를 감지하다가 데이터를 아무도 안보낼 때가 되면 잠시 쉬는 타임을 가지게 된다. 
  - Contention window(충돌 윈도우): 데이터를 보내기 전에 기다리는 시간으로, 여러 곳에서 IFS를 가지고 있으면 난수를 발생시켜서 그만큼의 대기를 하게 되는데 이구간을 Contention window라고 한다.
  - ACK(Acknowledgements)데이터를 수신한 시스템이 보내는 응답으로, 잘 받았으면 잘 받았다고 ACK를 보내게 된다!

(2) 통제된 접근(Controlled-access)
통제퇴 접근은 누가 데이터를 전송할 수 있는지 정해주는 통제가 존재하는 것으로 종류는 다음과 같다.

  - 예약(Reservation): 사전에 예약하기
  - 폴링(Polling): "너 데이터 보낼 거 있니?" 하고 물어보는 것(중재자 존재)
  - 토큰 전달(Token passing): 토큰을 가져야만 전달 가능(토큰 가진사람만 데이터 보낼 수 있음~)
  
(3) 채널화(Channelization)
하나의 매체에 여러가지의 논리적인 길, 즉 링크를 시간, 주파수, 코드로 나누어서 여러개의 채널을 만들어 이들을 서로 다른 시스템들이 이용하는 방법을 말한다.
(마치 라디오 채널이 공기중에 여러개인 것처럼 여러가지 채널을 만드는 것)

  - FDMA(Frequency-Division Multiple Access): 주파수를 이용해 나누어 채널 나눔
  - TDMA(Time-Division Multiple Access): 시간을 이용해 나누어 채널 나눔
  - CDMA(Code-Division Multiple Access): 코드를 이용해 채널 나눔
 


\* 내용출처: 쉽게배우는 네트워크 강의(한국직업방송)
